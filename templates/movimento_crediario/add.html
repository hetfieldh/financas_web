{# templates\movimento_crediario\add.html #}

{% extends 'base.html' %}

{% block title %}Finanças Web | Movimento Crediário{% endblock %}

{% block content %}
<div class="bg-white p-8 rounded-xl shadow-lg w-full max-w-lg mx-auto border border-gray-200">
    <h2 class="text-3xl font-semibold text-gray-900 mb-6 text-center">Adicionar Movimento de Crediário</h2>
    <form method="POST" action="{{ url_for('movimento_crediario.add_movimento_crediario') }}">
        <div class="mb-5">
            <label for="grupo_crediario_id" class="block text-gray-700 text-sm font-medium mb-2">Grupo de
                Crediário</label>
            <select id="grupo_crediario_id" name="grupo_crediario_id" required
                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-200">
                <option value="">Selecione...</option>
                {% for grupo in grupos_crediario %}
                <option value="{{ grupo.id }}">{{ grupo.grupo }} ({{ grupo.tipo }})</option>
                {% endfor %}
            </select>
        </div>
        <div class="mb-5">
            <label for="crediario_id" class="block text-gray-700 text-sm font-medium mb-2">Crediário</label>
            <select id="crediario_id" name="crediario_id" required
                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-200">
                <option value="">Selecione...</option>
                {% for crediario in crediarios %}
                <option value="{{ crediario.id }}">{{ crediario.crediario }} (Final: {{ crediario.final }})</option>
                {% endfor %}
            </select>
        </div>
        <div class="mb-5">
            <label for="data_compra" class="block text-gray-700 text-sm font-medium mb-2">Data da Compra</label>
            <input type="date" id="data_compra" name="data_compra" value="{{ today_date }}" required
                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-200">
        </div>
        <div class="mb-5">
            <label for="descricao" class="block text-gray-700 text-sm font-medium mb-2">Descrição</label>
            <input type="text" id="descricao" name="descricao" required
                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-200"
                placeholder="Ex: Compra de Eletrônico, Serviço de Manutenção">
        </div>
        <div class="mb-5">
            <label for="valor_total" class="block text-gray-700 text-sm font-medium mb-2">Valor Total (R$)</label>
            <input type="text" id="valor_total" name="valor_total" required pattern="[0-9]+([,\.][0-9]{1,2})?"
                inputmode="decimal"
                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-200"
                placeholder="Ex: 1500,00" value="">
        </div>
        <div class="mb-5">
            <label for="num_parcelas" class="block text-gray-700 text-sm font-medium mb-2">Número de Parcelas
                (1-360)</label>
            <input type="number" id="num_parcelas" name="num_parcelas" required min="1" max="360"
                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-200"
                placeholder="Ex: 12" value="">
        </div>
        <div class="mb-6">
            <label for="primeira_parcela" class="block text-gray-700 text-sm font-medium mb-2">Mês/Ano da Primeira
                Parcela</label>
            <input type="month" id="primeira_parcela" name="primeira_parcela" value="{{ today_month_year }}" required
                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-200">
        </div>

        <div class="flex justify-end space-x-4">
            <a href="{{ url_for('movimento_crediario.list_movimentos_crediario') }}"
                class="inline-flex items-center px-6 py-2 border border-gray-300 rounded-full shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition duration-200">
                Cancelar
            </a>
            <button type="submit"
                class="inline-flex items-center px-6 py-2 border border-transparent text-sm font-medium rounded-full shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition duration-200">
                <i class="fas fa-plus-circle mr-2"></i> Adicionar Movimento
            </button>
        </div>
    </form>
</div>

<script src="{{ url_for('static', filename='js/main.js') }}" defer></script>

{% endblock %}